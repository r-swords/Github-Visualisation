{"ast":null,"code":"import _construct from \"@babel/runtime/helpers/esm/construct\";\nimport React from 'react';\nimport { Spring } from '../utils/spring';\nimport useGetLatest from './useGetLatest';\nexport function useSpring(value, config, cb, immediate, debug) {\n  var springRef = React.useRef(_construct(Spring, [value].concat(config)));\n  var getValue = useGetLatest(value);\n\n  var _useRaf = useRaf(function () {\n    cb(springRef.current.x());\n    return springRef.current.done();\n  }),\n      startRaf = _useRaf[0],\n      stopRaf = _useRaf[1]; // Immediate\n\n\n  React.useEffect(function () {\n    if (immediate) {\n      springRef.current.snap(getValue());\n      startRaf();\n      return;\n    }\n\n    springRef.current.setEnd(value);\n    startRaf();\n  }, [debug, getValue, immediate, startRaf, stopRaf, value]);\n  React.useEffect(function () {\n    return function () {\n      stopRaf();\n    };\n  }, [stopRaf]);\n  return springRef.current;\n}\nexport function useRaf(callback) {\n  var raf = React.useRef(null);\n  var rafCallback = React.useRef(callback);\n  rafCallback.current = callback;\n  var tick = React.useCallback(function () {\n    if (rafCallback.current()) return;\n    raf.current = requestAnimationFrame(tick);\n  }, []);\n  return [React.useMemo(function () {\n    return tick;\n  }, [tick]), React.useMemo(function () {\n    return function () {\n      return raf.current && cancelAnimationFrame(raf.current);\n    };\n  }, [])];\n}","map":{"version":3,"sources":["/home/ralph1/Documents/3rd_year/software_eng/react/github_visaulisation/node_modules/react-charts/es/hooks/useSpring.js"],"names":["_construct","React","Spring","useGetLatest","useSpring","value","config","cb","immediate","debug","springRef","useRef","concat","getValue","_useRaf","useRaf","current","x","done","startRaf","stopRaf","useEffect","snap","setEnd","callback","raf","rafCallback","tick","useCallback","requestAnimationFrame","useMemo","cancelAnimationFrame"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,sCAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAO,SAASC,SAAT,CAAmBC,KAAnB,EAA0BC,MAA1B,EAAkCC,EAAlC,EAAsCC,SAAtC,EAAiDC,KAAjD,EAAwD;AAC7D,MAAIC,SAAS,GAAGT,KAAK,CAACU,MAAN,CAAaX,UAAU,CAACE,MAAD,EAAS,CAACG,KAAD,EAAQO,MAAR,CAAeN,MAAf,CAAT,CAAvB,CAAhB;AACA,MAAIO,QAAQ,GAAGV,YAAY,CAACE,KAAD,CAA3B;;AAEA,MAAIS,OAAO,GAAGC,MAAM,CAAC,YAAY;AAC/BR,IAAAA,EAAE,CAACG,SAAS,CAACM,OAAV,CAAkBC,CAAlB,EAAD,CAAF;AACA,WAAOP,SAAS,CAACM,OAAV,CAAkBE,IAAlB,EAAP;AACD,GAHmB,CAApB;AAAA,MAIIC,QAAQ,GAAGL,OAAO,CAAC,CAAD,CAJtB;AAAA,MAKIM,OAAO,GAAGN,OAAO,CAAC,CAAD,CALrB,CAJ6D,CASnC;;;AAG1Bb,EAAAA,KAAK,CAACoB,SAAN,CAAgB,YAAY;AAC1B,QAAIb,SAAJ,EAAe;AACbE,MAAAA,SAAS,CAACM,OAAV,CAAkBM,IAAlB,CAAuBT,QAAQ,EAA/B;AACAM,MAAAA,QAAQ;AACR;AACD;;AAEDT,IAAAA,SAAS,CAACM,OAAV,CAAkBO,MAAlB,CAAyBlB,KAAzB;AACAc,IAAAA,QAAQ;AACT,GATD,EASG,CAACV,KAAD,EAAQI,QAAR,EAAkBL,SAAlB,EAA6BW,QAA7B,EAAuCC,OAAvC,EAAgDf,KAAhD,CATH;AAUAJ,EAAAA,KAAK,CAACoB,SAAN,CAAgB,YAAY;AAC1B,WAAO,YAAY;AACjBD,MAAAA,OAAO;AACR,KAFD;AAGD,GAJD,EAIG,CAACA,OAAD,CAJH;AAKA,SAAOV,SAAS,CAACM,OAAjB;AACD;AACD,OAAO,SAASD,MAAT,CAAgBS,QAAhB,EAA0B;AAC/B,MAAIC,GAAG,GAAGxB,KAAK,CAACU,MAAN,CAAa,IAAb,CAAV;AACA,MAAIe,WAAW,GAAGzB,KAAK,CAACU,MAAN,CAAaa,QAAb,CAAlB;AACAE,EAAAA,WAAW,CAACV,OAAZ,GAAsBQ,QAAtB;AACA,MAAIG,IAAI,GAAG1B,KAAK,CAAC2B,WAAN,CAAkB,YAAY;AACvC,QAAIF,WAAW,CAACV,OAAZ,EAAJ,EAA2B;AAC3BS,IAAAA,GAAG,CAACT,OAAJ,GAAca,qBAAqB,CAACF,IAAD,CAAnC;AACD,GAHU,EAGR,EAHQ,CAAX;AAIA,SAAO,CAAC1B,KAAK,CAAC6B,OAAN,CAAc,YAAY;AAChC,WAAOH,IAAP;AACD,GAFO,EAEL,CAACA,IAAD,CAFK,CAAD,EAEK1B,KAAK,CAAC6B,OAAN,CAAc,YAAY;AACpC,WAAO,YAAY;AACjB,aAAOL,GAAG,CAACT,OAAJ,IAAee,oBAAoB,CAACN,GAAG,CAACT,OAAL,CAA1C;AACD,KAFD;AAGD,GAJW,EAIT,EAJS,CAFL,CAAP;AAOD","sourcesContent":["import _construct from \"@babel/runtime/helpers/esm/construct\";\nimport React from 'react';\nimport { Spring } from '../utils/spring';\nimport useGetLatest from './useGetLatest';\nexport function useSpring(value, config, cb, immediate, debug) {\n  var springRef = React.useRef(_construct(Spring, [value].concat(config)));\n  var getValue = useGetLatest(value);\n\n  var _useRaf = useRaf(function () {\n    cb(springRef.current.x());\n    return springRef.current.done();\n  }),\n      startRaf = _useRaf[0],\n      stopRaf = _useRaf[1]; // Immediate\n\n\n  React.useEffect(function () {\n    if (immediate) {\n      springRef.current.snap(getValue());\n      startRaf();\n      return;\n    }\n\n    springRef.current.setEnd(value);\n    startRaf();\n  }, [debug, getValue, immediate, startRaf, stopRaf, value]);\n  React.useEffect(function () {\n    return function () {\n      stopRaf();\n    };\n  }, [stopRaf]);\n  return springRef.current;\n}\nexport function useRaf(callback) {\n  var raf = React.useRef(null);\n  var rafCallback = React.useRef(callback);\n  rafCallback.current = callback;\n  var tick = React.useCallback(function () {\n    if (rafCallback.current()) return;\n    raf.current = requestAnimationFrame(tick);\n  }, []);\n  return [React.useMemo(function () {\n    return tick;\n  }, [tick]), React.useMemo(function () {\n    return function () {\n      return raf.current && cancelAnimationFrame(raf.current);\n    };\n  }, [])];\n}"]},"metadata":{},"sourceType":"module"}