{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport { translate } from '../utils/Utils';\nimport useChartContext from '../utils/chartContext'; //\n\nimport useMeasure from './AxisLinear.useMeasure';\nexport default function AxisLinearComp(axis) {\n  var _React$useState = React.useState(false),\n      showRotated = _React$useState[0],\n      setShowRotated = _React$useState[1];\n\n  var _useChartContext = useChartContext(),\n      getOptions = _useChartContext.getOptions,\n      gridDimensions = _useChartContext.gridDimensions,\n      width = _useChartContext.width,\n      height = _useChartContext.height;\n\n  var _getOptions = getOptions(),\n      dark = _getOptions.dark,\n      showDebugAxes = _getOptions.showDebugAxes;\n\n  var elRef = React.useRef(null);\n  useMeasure({\n    axis: axis,\n    elRef: elRef,\n    gridDimensions: gridDimensions,\n    showRotated: showRotated,\n    setShowRotated: setShowRotated\n  });\n\n  var renderAxis = function renderAxis(isOuter) {\n    var isRotated = !isOuter && showRotated;\n    var scale = isOuter ? axis.outerScale : axis.scale;\n\n    var _scale$range = scale.range(),\n        rangeStart = _scale$range[0],\n        rangeEnd = _scale$range[1];\n\n    var getTicks = function getTicks() {\n      var anyAxis = axis;\n\n      if (anyAxis.outerScale.ticks) {\n        if (typeof anyAxis.tickCount === 'number') {\n          return anyAxis.outerScale.ticks(anyAxis.tickCount);\n        }\n\n        var autoSpacing = anyAxis.isVertical ? 40 : 80;\n        var range = anyAxis.outerScale.range();\n        var num = Math.abs(range[1] - range[0]) / autoSpacing;\n        return anyAxis.outerScale.ticks(num);\n      }\n\n      return anyAxis.outerScale.domain();\n    };\n\n    var resolvedHeight = isOuter ? height : gridDimensions.height;\n    var resolvedWidth = isOuter ? width : gridDimensions.width;\n\n    var _ref = axis.position === 'left' ? [{\n      x: 0,\n      y: rangeStart\n    }, {\n      x: 0,\n      y: rangeEnd\n    }] : axis.position === 'right' ? [{\n      x: resolvedWidth,\n      y: rangeStart\n    }, {\n      x: resolvedWidth,\n      y: rangeEnd\n    }] : axis.position === 'top' ? [{\n      x: rangeStart,\n      y: 0\n    }, {\n      x: rangeEnd,\n      y: 0\n    }] : [{\n      x: rangeStart,\n      y: resolvedHeight\n    }, {\n      x: rangeEnd,\n      y: resolvedHeight\n    }],\n        lineFrom = _ref[0],\n        lineTo = _ref[1];\n\n    var ticks = getTicks().map(function (tick) {\n      var px = getTickPx(scale, tick);\n\n      var _ref2 = axis.position === 'left' ? [{\n        x: 0,\n        y: px\n      }, {\n        x: -8,\n        y: px\n      }, {\n        x: resolvedWidth,\n        y: px\n      }] : axis.position === 'right' ? [{\n        x: resolvedWidth,\n        y: px\n      }, {\n        x: resolvedWidth + 8,\n        y: px\n      }, {\n        x: 0,\n        y: px\n      }] : axis.position === 'top' ? [{\n        x: px,\n        y: 0\n      }, {\n        x: px,\n        y: -8\n      }, {\n        x: px,\n        y: resolvedHeight\n      }] : [{\n        x: px,\n        y: resolvedHeight\n      }, {\n        x: px,\n        y: resolvedHeight + 8\n      }, {\n        x: px,\n        y: 0\n      }],\n          from = _ref2[0],\n          to = _ref2[1],\n          gridTo = _ref2[2];\n\n      return {\n        value: tick,\n        from: from,\n        to: to,\n        gridTo: gridTo\n      };\n    });\n    return /*#__PURE__*/React.createElement(\"g\", {\n      key: \"Axis-Group \" + (isOuter ? 'outer' : 'inner'),\n      className: \"Axis-Group \" + (isOuter ? 'outer' : 'inner'),\n      style: {\n        transform: isOuter ? undefined : translate(gridDimensions.left, gridDimensions.top)\n      }\n    }, /*#__PURE__*/React.createElement(\"g\", {\n      className: \"Axis\",\n      style: _extends({}, isOuter ? {\n        opacity: showDebugAxes ? 0.5 : 0,\n        pointerEvents: 'none'\n      } : {\n        opacity: 1,\n        pointerEvents: 'all'\n      })\n    }, /*#__PURE__*/React.createElement(\"g\", {\n      className: \"domainAndTicks\"\n    }, /*#__PURE__*/React.createElement(\"line\", {\n      className: \"domain\",\n      x1: lineFrom.x,\n      y1: lineFrom.y,\n      x2: lineTo.x,\n      y2: lineTo.y,\n      stroke: dark ? 'rgba(255,255,255, .2)' : 'rgba(0,0,0, .2)'\n    }), ticks.map(function (tick, i) {\n      var _tick$to = tick.to,\n          tickLabelX = _tick$to.x,\n          tickLabelY = _tick$to.y;\n\n      if (axis.position === 'top') {\n        tickLabelY -= 5;\n      } else if (axis.position === 'bottom') {\n        tickLabelY += 5;\n      } else if (axis.position === 'left') {\n        tickLabelX -= 5;\n      } else if (axis.position === 'right') {\n        tickLabelX += 5;\n      }\n\n      return /*#__PURE__*/React.createElement(\"g\", {\n        key: \"vx-tick-\" + tick + \"-\" + i,\n        className: 'tick'\n      }, !isOuter ? /*#__PURE__*/React.createElement(\"line\", {\n        x1: tick.from.x,\n        y1: tick.from.y,\n        x2: tick.to.x,\n        y2: tick.to.y,\n        stroke: dark ? 'rgba(255,255,255, .2)' : 'rgba(0,0,0, .2)'\n      }) : null, /*#__PURE__*/React.createElement(\"text\", {\n        className: \"tickLabel\",\n        style: {\n          fontSize: 10,\n          fill: dark ? 'rgba(255,255,255, .7)' : 'rgba(0,0,0, .7)',\n          dominantBaseline: isRotated ? 'central' : axis.position === 'bottom' ? 'hanging' : axis.position === 'top' ? 'alphabetic' : 'central',\n          textAnchor: isRotated ? 'end' : axis.position === 'right' ? 'start' : axis.position === 'left' ? 'end' : 'middle'\n        },\n        transform: \"translate(\" + tickLabelX + \", \" + tickLabelY + \") rotate(\" + (isRotated ? axis.position === 'top' ? 60 : -60 : 0) + \")\"\n      }, axis.formatters.scale(tick.value)));\n    })), /*#__PURE__*/React.createElement(\"g\", {\n      className: \"grid\"\n    }, ticks.map(function (tick, i) {\n      var _axis$showGrid;\n\n      return /*#__PURE__*/React.createElement(\"g\", {\n        key: \"vx-tick-\" + tick + \"-\" + i,\n        className: 'tick'\n      }, ((_axis$showGrid = axis.showGrid) != null ? _axis$showGrid : true) && !isOuter ? /*#__PURE__*/React.createElement(\"line\", {\n        x1: tick.from.x,\n        y1: tick.from.y,\n        x2: tick.gridTo.x,\n        y2: tick.gridTo.y,\n        stroke: dark ? 'rgba(255,255,255, .05)' : 'rgba(0,0,0, .05)'\n      }) : null);\n    }))));\n  };\n\n  return axis.show ? /*#__PURE__*/React.createElement(\"g\", {\n    ref: elRef\n  }, renderAxis(false), renderAxis(true)) : null;\n}\n\nfunction getTickPx(scale, value) {\n  var _scale;\n\n  var px = (_scale = scale(value)) != null ? _scale : NaN; // @ts-ignore\n\n  if (scale.bandwidth) {\n    // @ts-ignore\n    return px + scale.bandwidth() / 2;\n  }\n\n  return px;\n}","map":{"version":3,"sources":["/home/ralph1/Documents/3rd_year/software_eng/react/github_visaulisation/node_modules/react-charts/es/components/AxisLinear.js"],"names":["_extends","React","translate","useChartContext","useMeasure","AxisLinearComp","axis","_React$useState","useState","showRotated","setShowRotated","_useChartContext","getOptions","gridDimensions","width","height","_getOptions","dark","showDebugAxes","elRef","useRef","renderAxis","isOuter","isRotated","scale","outerScale","_scale$range","range","rangeStart","rangeEnd","getTicks","anyAxis","ticks","tickCount","autoSpacing","isVertical","num","Math","abs","domain","resolvedHeight","resolvedWidth","_ref","position","x","y","lineFrom","lineTo","map","tick","px","getTickPx","_ref2","from","to","gridTo","value","createElement","key","className","style","transform","undefined","left","top","opacity","pointerEvents","x1","y1","x2","y2","stroke","i","_tick$to","tickLabelX","tickLabelY","fontSize","fill","dominantBaseline","textAnchor","formatters","_axis$showGrid","showGrid","show","ref","_scale","NaN","bandwidth"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport { translate } from '../utils/Utils';\nimport useChartContext from '../utils/chartContext'; //\n\nimport useMeasure from './AxisLinear.useMeasure';\nexport default function AxisLinearComp(axis) {\n  var _React$useState = React.useState(false),\n      showRotated = _React$useState[0],\n      setShowRotated = _React$useState[1];\n\n  var _useChartContext = useChartContext(),\n      getOptions = _useChartContext.getOptions,\n      gridDimensions = _useChartContext.gridDimensions,\n      width = _useChartContext.width,\n      height = _useChartContext.height;\n\n  var _getOptions = getOptions(),\n      dark = _getOptions.dark,\n      showDebugAxes = _getOptions.showDebugAxes;\n\n  var elRef = React.useRef(null);\n  useMeasure({\n    axis: axis,\n    elRef: elRef,\n    gridDimensions: gridDimensions,\n    showRotated: showRotated,\n    setShowRotated: setShowRotated\n  });\n\n  var renderAxis = function renderAxis(isOuter) {\n    var isRotated = !isOuter && showRotated;\n    var scale = isOuter ? axis.outerScale : axis.scale;\n\n    var _scale$range = scale.range(),\n        rangeStart = _scale$range[0],\n        rangeEnd = _scale$range[1];\n\n    var getTicks = function getTicks() {\n      var anyAxis = axis;\n\n      if (anyAxis.outerScale.ticks) {\n        if (typeof anyAxis.tickCount === 'number') {\n          return anyAxis.outerScale.ticks(anyAxis.tickCount);\n        }\n\n        var autoSpacing = anyAxis.isVertical ? 40 : 80;\n        var range = anyAxis.outerScale.range();\n        var num = Math.abs(range[1] - range[0]) / autoSpacing;\n        return anyAxis.outerScale.ticks(num);\n      }\n\n      return anyAxis.outerScale.domain();\n    };\n\n    var resolvedHeight = isOuter ? height : gridDimensions.height;\n    var resolvedWidth = isOuter ? width : gridDimensions.width;\n\n    var _ref = axis.position === 'left' ? [{\n      x: 0,\n      y: rangeStart\n    }, {\n      x: 0,\n      y: rangeEnd\n    }] : axis.position === 'right' ? [{\n      x: resolvedWidth,\n      y: rangeStart\n    }, {\n      x: resolvedWidth,\n      y: rangeEnd\n    }] : axis.position === 'top' ? [{\n      x: rangeStart,\n      y: 0\n    }, {\n      x: rangeEnd,\n      y: 0\n    }] : [{\n      x: rangeStart,\n      y: resolvedHeight\n    }, {\n      x: rangeEnd,\n      y: resolvedHeight\n    }],\n        lineFrom = _ref[0],\n        lineTo = _ref[1];\n\n    var ticks = getTicks().map(function (tick) {\n      var px = getTickPx(scale, tick);\n\n      var _ref2 = axis.position === 'left' ? [{\n        x: 0,\n        y: px\n      }, {\n        x: -8,\n        y: px\n      }, {\n        x: resolvedWidth,\n        y: px\n      }] : axis.position === 'right' ? [{\n        x: resolvedWidth,\n        y: px\n      }, {\n        x: resolvedWidth + 8,\n        y: px\n      }, {\n        x: 0,\n        y: px\n      }] : axis.position === 'top' ? [{\n        x: px,\n        y: 0\n      }, {\n        x: px,\n        y: -8\n      }, {\n        x: px,\n        y: resolvedHeight\n      }] : [{\n        x: px,\n        y: resolvedHeight\n      }, {\n        x: px,\n        y: resolvedHeight + 8\n      }, {\n        x: px,\n        y: 0\n      }],\n          from = _ref2[0],\n          to = _ref2[1],\n          gridTo = _ref2[2];\n\n      return {\n        value: tick,\n        from: from,\n        to: to,\n        gridTo: gridTo\n      };\n    });\n    return /*#__PURE__*/React.createElement(\"g\", {\n      key: \"Axis-Group \" + (isOuter ? 'outer' : 'inner'),\n      className: \"Axis-Group \" + (isOuter ? 'outer' : 'inner'),\n      style: {\n        transform: isOuter ? undefined : translate(gridDimensions.left, gridDimensions.top)\n      }\n    }, /*#__PURE__*/React.createElement(\"g\", {\n      className: \"Axis\",\n      style: _extends({}, isOuter ? {\n        opacity: showDebugAxes ? 0.5 : 0,\n        pointerEvents: 'none'\n      } : {\n        opacity: 1,\n        pointerEvents: 'all'\n      })\n    }, /*#__PURE__*/React.createElement(\"g\", {\n      className: \"domainAndTicks\"\n    }, /*#__PURE__*/React.createElement(\"line\", {\n      className: \"domain\",\n      x1: lineFrom.x,\n      y1: lineFrom.y,\n      x2: lineTo.x,\n      y2: lineTo.y,\n      stroke: dark ? 'rgba(255,255,255, .2)' : 'rgba(0,0,0, .2)'\n    }), ticks.map(function (tick, i) {\n      var _tick$to = tick.to,\n          tickLabelX = _tick$to.x,\n          tickLabelY = _tick$to.y;\n\n      if (axis.position === 'top') {\n        tickLabelY -= 5;\n      } else if (axis.position === 'bottom') {\n        tickLabelY += 5;\n      } else if (axis.position === 'left') {\n        tickLabelX -= 5;\n      } else if (axis.position === 'right') {\n        tickLabelX += 5;\n      }\n\n      return /*#__PURE__*/React.createElement(\"g\", {\n        key: \"vx-tick-\" + tick + \"-\" + i,\n        className: 'tick'\n      }, !isOuter ? /*#__PURE__*/React.createElement(\"line\", {\n        x1: tick.from.x,\n        y1: tick.from.y,\n        x2: tick.to.x,\n        y2: tick.to.y,\n        stroke: dark ? 'rgba(255,255,255, .2)' : 'rgba(0,0,0, .2)'\n      }) : null, /*#__PURE__*/React.createElement(\"text\", {\n        className: \"tickLabel\",\n        style: {\n          fontSize: 10,\n          fill: dark ? 'rgba(255,255,255, .7)' : 'rgba(0,0,0, .7)',\n          dominantBaseline: isRotated ? 'central' : axis.position === 'bottom' ? 'hanging' : axis.position === 'top' ? 'alphabetic' : 'central',\n          textAnchor: isRotated ? 'end' : axis.position === 'right' ? 'start' : axis.position === 'left' ? 'end' : 'middle'\n        },\n        transform: \"translate(\" + tickLabelX + \", \" + tickLabelY + \") rotate(\" + (isRotated ? axis.position === 'top' ? 60 : -60 : 0) + \")\"\n      }, axis.formatters.scale(tick.value)));\n    })), /*#__PURE__*/React.createElement(\"g\", {\n      className: \"grid\"\n    }, ticks.map(function (tick, i) {\n      var _axis$showGrid;\n\n      return /*#__PURE__*/React.createElement(\"g\", {\n        key: \"vx-tick-\" + tick + \"-\" + i,\n        className: 'tick'\n      }, ((_axis$showGrid = axis.showGrid) != null ? _axis$showGrid : true) && !isOuter ? /*#__PURE__*/React.createElement(\"line\", {\n        x1: tick.from.x,\n        y1: tick.from.y,\n        x2: tick.gridTo.x,\n        y2: tick.gridTo.y,\n        stroke: dark ? 'rgba(255,255,255, .05)' : 'rgba(0,0,0, .05)'\n      }) : null);\n    }))));\n  };\n\n  return axis.show ? /*#__PURE__*/React.createElement(\"g\", {\n    ref: elRef\n  }, renderAxis(false), renderAxis(true)) : null;\n}\n\nfunction getTickPx(scale, value) {\n  var _scale;\n\n  var px = (_scale = scale(value)) != null ? _scale : NaN; // @ts-ignore\n\n  if (scale.bandwidth) {\n    // @ts-ignore\n    return px + scale.bandwidth() / 2;\n  }\n\n  return px;\n}"]},"metadata":{},"sourceType":"module"}