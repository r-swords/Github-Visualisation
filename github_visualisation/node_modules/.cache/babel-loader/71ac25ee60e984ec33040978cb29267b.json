{"ast":null,"code":"var _jsxFileName = \"/home/ralph1/Documents/3rd_year/software_eng/react/github_visaulisation/src/UserSelect.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport UserLine from './UserLine.js';\nimport contrib from './contribfile.json';\nimport commit from './commitfile.json';\nimport users from './userfile.json';\nimport userRepo from './userrepofile.json';\nimport UserBar from './UserBar.js';\nimport ReactDOM from 'react-dom';\nimport ResizableBox from './ResizableBox.js';\nimport './App.css';\nimport { Dropdown, DropdownButton, Card, ListGroup, ListGroupItem } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction UserSelect() {\n  _s();\n\n  const [contributors, setContributors] = useState([]);\n  const [commits, setCommits] = useState([]);\n  const [language, setLanguage] = useState([]);\n  const [userSelectedName, setUserSelectedName] = useState('');\n  const [userSelected, setUserSelected] = useState({});\n  const [selected, setSelected] = useState(false);\n  useEffect(() => {\n    setContributorData(contrib);\n  }, []);\n\n  const setCommitsData = (data, name) => {\n    var obj = {};\n\n    for (var com in data) {\n      var commitDate = new Date(data[com].commit.committer.date.substring(0, 10));\n\n      if (data[com].author !== null) {\n        if (obj[commitDate] && name === data[com].author.login) {\n          obj[commitDate]++;\n        } else if (name === data[com].author.login) {\n          obj[commitDate] = 1;\n        }\n      }\n    }\n\n    var arr = [];\n\n    for (var node in obj) {\n      arr.push({\n        x: new Date(node),\n        y: obj[node]\n      });\n    }\n\n    var arr2 = [];\n    var currentDate = new Date(data[data.length - 1].commit.committer.date.substring(0, 10));\n    var max = new Date(data[0].commit.committer.date.substring(0, 10));\n\n    while (currentDate <= max) {\n      var count;\n\n      if (obj[currentDate]) {\n        count = obj[currentDate];\n      } else {\n        count = 0;\n      }\n\n      arr2.push([new Date(currentDate), count]);\n      currentDate.setDate(currentDate.getDate() + 1);\n    }\n\n    setCommits(arr2);\n  };\n\n  const setLanguageData = (data, name) => {\n    var obj = {};\n    console.log(data);\n\n    for (var use in data) {\n      for (var repo in data[use]) {\n        if (data[use][repo].language !== null) {\n          if (name === data[use][repo].owner.login && obj[data[use][repo].language]) obj[data[use][repo].language]++;else if (name == data[use][repo].owner.login) obj[data[use][repo].language] = 1;\n        }\n      }\n    }\n\n    var arr = [];\n    Object.keys(obj).forEach(key => arr.push([key, obj[key]]));\n    setLanguage(arr);\n  };\n\n  const setContributorData = data => {\n    var arr = [];\n    Object.keys(data).forEach(key => arr.push([data[key].login, data[key].contributions]));\n    setContributors(arr);\n  };\n\n  const getMenuItems = contrib => {\n    let menuItems = [];\n\n    for (var i = 0; i < contrib.length; i++) {\n      menuItems.push( /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n        eventKey: contrib[i][0],\n        children: contrib[i][0]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 22\n      }, this));\n    }\n\n    return menuItems;\n  };\n\n  const handleSelect = e => {\n    setUserSelectedName(e);\n    var newObject = {};\n\n    for (var user in users) {\n      if (users[user].login === e) {\n        newObject = users[user];\n      }\n    }\n\n    for (var con in contributors) {\n      if (contributors[con][0] === e) {\n        newObject = { ...newObject,\n          contributions: contributors[con][1]\n        };\n      }\n    }\n\n    setUserSelected(newObject);\n    setCommitsData(commit, e);\n    setLanguageData(userRepo, e);\n    setSelected(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"repo-dropdown\",\n    children: [/*#__PURE__*/_jsxDEV(DropdownButton, {\n      id: \"dropdown-basic-button\",\n      title: \"Select Contributor\",\n      onSelect: handleSelect,\n      children: getMenuItems(contributors)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this), selected && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"centre\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            width: '18rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n            variant: \"top\",\n            src: userSelected.avatar_url\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(Card.Title, {\n              children: userSelectedName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n            className: \"list-group-flush\",\n            children: [/*#__PURE__*/_jsxDEV(ListGroupItem, {\n              children: [userSelected.followers, \" Followers\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListGroupItem, {\n              children: [userSelected.following, \" Following\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListGroupItem, {\n              children: [userSelected.public_repos, \" Repos\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListGroupItem, {\n              children: [userSelected.contributions, \" Contributions\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"float-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"float-child\",\n          children: /*#__PURE__*/_jsxDEV(ResizableBox, {\n            children: [\"Commits Timeline\", /*#__PURE__*/_jsxDEV(UserLine, {\n              data: commits\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"float-child\",\n          children: /*#__PURE__*/_jsxDEV(ResizableBox, {\n            class: \"float-child\",\n            children: [\"Languages used in users repositories\", /*#__PURE__*/_jsxDEV(UserBar, {\n              data: language\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 7\n  }, this);\n}\n\n_s(UserSelect, \"rO8MUflfiSr/vzpynwhk4KVp9I8=\");\n\n_c = UserSelect;\nexport default UserSelect;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserSelect\");","map":{"version":3,"sources":["/home/ralph1/Documents/3rd_year/software_eng/react/github_visaulisation/src/UserSelect.js"],"names":["React","useState","useEffect","UserLine","contrib","commit","users","userRepo","UserBar","ReactDOM","ResizableBox","Dropdown","DropdownButton","Card","ListGroup","ListGroupItem","UserSelect","contributors","setContributors","commits","setCommits","language","setLanguage","userSelectedName","setUserSelectedName","userSelected","setUserSelected","selected","setSelected","setContributorData","setCommitsData","data","name","obj","com","commitDate","Date","committer","date","substring","author","login","arr","node","push","x","y","arr2","currentDate","length","max","count","setDate","getDate","setLanguageData","console","log","use","repo","owner","Object","keys","forEach","key","contributions","getMenuItems","menuItems","i","handleSelect","e","newObject","user","con","width","avatar_url","followers","following","public_repos"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useState, useEffect } from 'react';\nimport UserLine from './UserLine.js';\nimport contrib from './contribfile.json';\nimport commit from './commitfile.json';\nimport users from './userfile.json';\nimport userRepo from './userrepofile.json';\nimport UserBar from './UserBar.js'\nimport ReactDOM from 'react-dom';\nimport ResizableBox from './ResizableBox.js'\nimport './App.css';\nimport { Dropdown,DropdownButton,Card,ListGroup,ListGroupItem } from 'react-bootstrap';\n\n\n\nfunction UserSelect() {\n  const [contributors, setContributors] = useState([]);\n  const [commits, setCommits] = useState([]);\n  const [language, setLanguage] = useState([]);\n  const [userSelectedName, setUserSelectedName] = useState('');\n  const [userSelected, setUserSelected] = useState({});\n  const [selected, setSelected] = useState(false);\n\n\n  useEffect(() => {\n    setContributorData(contrib);\n  }, [])\n\n  const setCommitsData = (data, name) => {\n    var obj = {};\n    for(var com in data){\n      var commitDate = new Date(data[com].commit.committer.date.substring(0,10));\n      if(data[com].author !== null){\n        if(obj[commitDate] && name === data[com].author.login){\n          obj[commitDate]++;\n        }\n        else if (name === data[com].author.login){\n          obj[commitDate] = 1;\n        }\n     }\n    }\n    var arr = [];\n    for(var node in obj){\n        arr.push({x: new Date(node), y: obj[node]})\n    }\n    var arr2 = [];\n    var currentDate = new Date(data[data.length - 1].commit.committer.date.substring(0,10));\n    var max = new Date(data[0].commit.committer.date.substring(0,10));\n    while(currentDate <= max){\n      var count;\n      if(obj[currentDate]){\n        count = obj[currentDate];\n      }\n      else{\n        count = 0;\n      }\n      arr2.push([new Date(currentDate),count]);\n      currentDate.setDate(currentDate.getDate() + 1);\n    }\n    setCommits(arr2);\n  }\n\n  const setLanguageData = (data, name) => {\n    var obj = {};\n    console.log(data);\n    for(var use in data){\n      for(var repo in data[use]){\n        if(data[use][repo].language !== null){\n          if(name === data[use][repo].owner.login && obj[data[use][repo].language]) obj[data[use][repo].language]++;\n          else if(name == data[use][repo].owner.login) obj[data[use][repo].language] = 1;\n        }\n      }\n    }\n    var arr = [];\n    Object.keys(obj).forEach(key => arr.push([key, obj[key]]));\n    setLanguage(arr);\n  }\n\n\n  const setContributorData = (data) => {\n    var arr = [];\n    Object.keys(data).forEach(key => arr.push([data[key].login, data[key].contributions]));\n    setContributors(arr);\n  }\n\n  const getMenuItems = (contrib) => {\n    let menuItems = [];\n    for(var i = 0; i < contrib.length; i++){\n      menuItems.push(<Dropdown.Item eventKey={contrib[i][0]}>{contrib[i][0]}</Dropdown.Item>);\n    }\n    return menuItems;\n  }\n\n\n  const handleSelect=(e)=>{\n    setUserSelectedName(e);\n    var newObject = {};\n    for(var user in users){\n      if(users[user].login === e){\n        newObject = users[user];\n      }\n    }\n    for(var con in contributors){\n      if(contributors[con][0] === e){\n        newObject = {...newObject, contributions: contributors[con][1]}\n      }\n    }\n    setUserSelected(newObject);\n    setCommitsData(commit, e);\n    setLanguageData(userRepo, e);\n    setSelected(true);\n  }\n\n  return (\n      <div className = \"repo-dropdown\">\n        <DropdownButton id=\"dropdown-basic-button\" title=\"Select Contributor\" onSelect={handleSelect}>\n          {getMenuItems(contributors)}\n        </DropdownButton>\n        {selected &&\n          <>\n          <div class=\"centre\">\n          <Card style={{ width: '18rem' }}>\n            <Card.Img variant=\"top\" src={userSelected.avatar_url} />\n            <Card.Body>\n              <Card.Title>{userSelectedName}</Card.Title>\n            </Card.Body>\n            <ListGroup className=\"list-group-flush\">\n              <ListGroupItem>{userSelected.followers} Followers</ListGroupItem>\n              <ListGroupItem>{userSelected.following} Following</ListGroupItem>\n              <ListGroupItem>{userSelected.public_repos} Repos</ListGroupItem>\n              <ListGroupItem>{userSelected.contributions} Contributions</ListGroupItem>\n            </ListGroup>\n          </Card>\n          </div>\n          <div class=\"float-container\">\n            <div class=\"float-child\">\n              <ResizableBox>\n                Commits Timeline\n                <UserLine data={commits}/>\n              </ResizableBox>\n            </div>\n            <div class=\"float-child\">\n              <ResizableBox class=\"float-child\">\n                Languages used in users repositories\n                <UserBar data={language}/>\n              </ResizableBox>\n            </div>\n          </div>\n          </>\n          }\n      </div>\n  );\n}\n\nexport default UserSelect;\n"]},"metadata":{},"sourceType":"module"}